<div class="campaign-report" ng-Controller="core/campaigns/report/BasicReportCampaignController">
    <div class="report-sidebar">

        <ul>
            <li class="active"><a>Overview</a></li>
            <li><a>Reports</a></li>
            <li><a>Analytics</a></li>
            <li><a>Export</a></li>
        </ul>

    </div>
    <div class="report">
        <div class="campaign-heading">

            <h2 class="">{{campaign.name}}
                <div class="btn-group">
                    <button class="btn btn-warning btn-xs" type="button"><span
                            class="glyphicon glyphicon-stop"></span> {{campaign.status}}
                    </button>
                    <button data-toggle="dropdown" class="btn btn-warning dropdown-toggle btn-xs" type="button">
                        <span class="caret"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul role="menu" class="dropdown-menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                    </ul>
                </div>

            </h2>


        </div>
        <div class="chart-controller">
            <div class="report-type-controller">
                <ul class="nav nav-pills">
                    <li class=""><a href="#">Intraday</a></li>
                    <li><a href="#">Trading Reports</a></li>
                </ul>
            </div>
            <div class="report-date-controller">
                <form class="form-inline" role="form">
                    <input type="daterange" ng-model="reportDateRange" class="form-control range" format="L">
                    <button type="button" class="btn btn-default" ng-click="refresh()"><span
                            class="glyphicon glyphicon-refresh"></span>
                        Refresh
                    </button>
                </form>
            </div>
        </div>

        <div class="chart-area">
            <div class="kpi-area">
                <dl>
                    <dt>CPM</dt>
                    <dd>{{kpis.cpm | number | currencyWithSymbol:campaign.currency_code }}</dd>
                    <dt>Spent</dt>
                    <dd>{{kpis.cost_impressions | number | currencyWithSymbol:campaign.currency_code}}</dd>
                    <dt>CTR</dt>
                    <dd>{{kpis.ctr | number }} %</dd>
                    <dt>CPC</dt>
                    <dd>{{kpis.cpc | number | currencyWithSymbol:campaign.currency_code}}</dd>
                </dl>
            </div>
            <div class="medium-chart">
                <div class="chart with-3d-shadow "
                     nvd3-double-line-chart
                     interpolate="linear"
                     clipEdge="true"
                     data="data1"
                     id="exampleId2"
                     xAxisTickFormat="xAxisTickFormat()"
                        >
                    <svg></svg>
                </div>
            </div>
        </div>
        <div class="chart-legend-area">
            <div class="kpi-legend">
                <dl>
                    <dt>Weekly Budget</dt>
                    <dd>{{campaign.max_daily_budget * 7 | number}} â‚¬</dd>
                </dl>

            </div>
            <div class="chart-legend">
                <span class="y1-legend">Impressions</span>
                <span class="y2-legend">Clicks</span>
            </div>

        </div>


        <div class="breakdown-area">
            <div class="panel-body">
                <tabset class="breakdown">
                    <tab heading="Ads">
                        <table class="table table-striped">
                            <thead>

                            <tr>
                                <th>Status</th>
                                <th>Ad name</th>
                                <th ng-repeat="header in adPerformance.getMetrics()">
                                    {{ adPerformance.getMetricName(header) }}
                                </th>
                            </tr>
                            </thead>
                            <tbody>

                            <tr ng-repeat="row in ads">
                                <td>{{row.status}}</td>
                                <td>{{row.name}}</td>
                                <td class="metrics"
                                    ng-repeat="metricValue in adPerformance.getRow(row.id) track by $index">
                            <span ng-if="metricValue.type == 'currency'">
                                {{metricValue.value | number | currencyWithSymbol:campaign.currency_code}}
                            </span>
                            <span ng-if="metricValue.type == 'percent'">
                                {{metricValue.value | number}} %
                            </span>
                            <span ng-if="metricValue.type == 'number'">
                                {{metricValue.value | number}}
                            </span>
                            <span ng-if="!metricValue.type">
                                -
                            </span>

                                </td>
                            </tr>


                            </tbody>

                        </table>
                        <!--<breakdown-table report="adPerformance" headers="['Ad']">-->
                        <!--<td>{{elem.name}}</td>-->
                        <!--</breakdown-table>-->
                    </tab>

                    <tab heading="Ad groups">
                        <table class="table table-striped">
                            <thead>

                            <tr>
                                <th>Status</th>
                                <th>Adgroup name</th>
                                <th ng-repeat="header in adGroupPerformance.getMetrics()">
                                    {{ adPerformance.getMetricName(header) }}
                                </th>
                            </tr>
                            </thead>
                            <tbody>

                            <tr ng-repeat="row in adgroups">
                                <td>{{row.status}}</td>
                                <td>{{row.name}}</td>
                                <td class="metrics"
                                    ng-repeat="metricValue in adGroupPerformance.getRow(row.id) track by $index">
                            <span ng-if="metricValue.type == 'currency'">
                                {{metricValue.value | number | currencyWithSymbol:campaign.currency_code}}
                            </span>
                            <span ng-if="metricValue.type == 'percent'">
                                {{metricValue.value | number}} %
                            </span>
                            <span ng-if="metricValue.type == 'number'">
                                {{metricValue.value | number}}
                            </span>
                            <span ng-if="!metricValue.type">
                                -
                            </span>

                                </td>
                            </tr>


                            </tbody>

                        </table>
                    </tab>
                    <tab heading="Sites">
                        <breakdown-table report="creativePerformance"></breakdown-table>


                    </tab>


                </tabset>
            </div>
        </div>
    </div>


</div>
